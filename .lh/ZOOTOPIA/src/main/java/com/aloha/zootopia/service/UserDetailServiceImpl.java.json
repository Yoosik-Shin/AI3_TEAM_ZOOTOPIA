{
    "sourceFile": "ZOOTOPIA/src/main/java/com/aloha/zootopia/service/UserDetailServiceImpl.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1751901515833,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1751901515833,
            "name": "Commit-0",
            "content": "package com.aloha.zootopia.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.aloha.zootopia.domain.CustomUser;\r\nimport com.aloha.zootopia.domain.Users;\r\nimport com.aloha.zootopia.mapper.UserMapper;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n/**\r\n * π” UserDetailsService : μ‚¬μ©μ μ •λ³΄ λ¶λ¬μ¤λ” μΈν„°νμ΄μ¤\r\n * β… μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•μ—¬, μ‚¬μ©μ μ •λ³΄λ¥Ό λ΅λ“ν•λ” λ°©λ²•μ„ μ •μν•  μ μλ‹¤.\r\n */\r\n@Slf4j\r\n@Service\r\npublic class UserDetailServiceImpl implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserMapper userMapper;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        log.info(\":::::::::: UserDetailServiceImpl ::::::::::\");\r\n        log.info(\"- μ‚¬μ©μ μ •μ μΈμ¦μ„ μ„ν•΄, μ‚¬μ©μ μ •λ³΄ μ΅°ν\");\r\n        log.info(\"- username : {} \", email);\r\n\r\n        Users user = null;\r\n        try {\r\n            // π‘©β€π’Ό μ‚¬μ©μ μ •λ³΄ λ° κ¶ν• μ΅°ν\r\n            user = userMapper.select(email);\r\n        } catch (Exception e) {\r\n            log.error(\"μ‚¬μ©μ μ •λ³΄ μ΅°ν μ‹ μ—λ¬ λ°μƒ : \", e);\r\n            e.printStackTrace();\r\n        }\r\n        if( user == null ) {\r\n            throw new UsernameNotFoundException(\"μ‚¬μ©μ μ •λ³΄λ¥Ό μ°Ύμ„ μ μ—†μµλ‹λ‹¤. - \" + email);\r\n        }\r\n        // π” Users β΅ CustomUser β΅ UserDetails\r\n        CustomUser customUser = new CustomUser(user);\r\n        return customUser;\r\n    }\r\n\r\n}\r\n"
        }
    ]
}